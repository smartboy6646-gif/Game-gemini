<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>3D Penalty Kick - Three.js</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;overflow:hidden;background:#000;font-family:Arial}
#info{
position:fixed;top:10px;width:100%;text-align:center;color:#fff;font-size:16px;
}
</style>
</head>
<body>

<div id="info">âš½ 3D Penalty Kick (Click to Shoot)</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>

<script>
// SCENE
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x87ceeb);

// CAMERA
const camera = new THREE.PerspectiveCamera(60, innerWidth/innerHeight, 0.1, 1000);
camera.position.set(0, 6, 12);
camera.lookAt(0,2,0);

// RENDERER
const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth, innerHeight);
document.body.appendChild(renderer.domElement);

// LIGHT
scene.add(new THREE.AmbientLight(0xffffff,0.6));
const sun = new THREE.DirectionalLight(0xffffff,0.6);
sun.position.set(5,10,5);
scene.add(sun);

// GROUND
const ground = new THREE.Mesh(
  new THREE.PlaneGeometry(40,20),
  new THREE.MeshStandardMaterial({color:0x1f7a3a})
);
ground.rotation.x = -Math.PI/2;
scene.add(ground);

// GOAL POST
const goalMat = new THREE.MeshStandardMaterial({color:0xffffff});
const goalTop = new THREE.Mesh(new THREE.BoxGeometry(6,0.2,0.2), goalMat);
goalTop.position.set(0,3,-8);
scene.add(goalTop);

const goalLeft = new THREE.Mesh(new THREE.BoxGeometry(0.2,3,0.2), goalMat);
goalLeft.position.set(-3,1.5,-8);
scene.add(goalLeft);

const goalRight = goalLeft.clone();
goalRight.position.x = 3;
scene.add(goalRight);

// BALL
const ball = new THREE.Mesh(
  new THREE.SphereGeometry(0.3,32,32),
  new THREE.MeshStandardMaterial({color:0xffffff})
);
ball.position.set(0,0.3,4);
scene.add(ball);

// GOALKEEPER
const keeper = new THREE.Mesh(
  new THREE.BoxGeometry(1,2,0.5),
  new THREE.MeshStandardMaterial({color:0xffd700})
);
keeper.position.set(0,1,-7.5);
scene.add(keeper);

// GAME LOGIC
let shooting = false;
let targetX = 0;
let keeperDir = 0;

window.addEventListener("click", ()=>{
  if(shooting) return;
  shooting = true;
  targetX = (Math.random()*4)-2;
  keeperDir = Math.sign(targetX) * (Math.random()*0.08);
});

// ANIMATE
function animate(){
  requestAnimationFrame(animate);

  if(shooting){
    ball.position.z -= 0.25;
    ball.position.x += targetX * 0.02;
    keeper.position.x += keeperDir;

    if(ball.position.z < -7.3){
      let save = Math.abs(ball.position.x - keeper.position.x) < 0.8;
      document.getElementById("info").innerText = save ? "ðŸ§¤ SAVED!" : "âš½ GOAL!";
      setTimeout(resetShot,1000);
      shooting = false;
    }
  }

  renderer.render(scene,camera);
}

function resetShot(){
  ball.position.set(0,0.3,4);
  keeper.position.x = 0;
  document.getElementById("info").innerText = "âš½ Click to Shoot";
}

animate();

// RESIZE
window.addEventListener("resize",()=>{
  camera.aspect = innerWidth/innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth, innerHeight);
});
</script>
</body>
</html>
